import{_ as D,m as I,u as N,a as n,o as V,b as d,z,c as a,d as f,e as l,t as g,f as t,g as L,w as y,j as h,U as w,ae as M,af as j,F as A,h as R,B as S,i as E}from"./index-bfcb45f6.js";const T={class:"userBase_container"},$={class:"grid grid-column-10"},G=["onClick"],H={alt:""},J={class:"more_content flex align-center justify-center"},K={__name:"index",setup(O){const o=I(),x=N(),s=n([]),v=n(!1),u=n(!1),c=n(30),r=n(0),i=n(!1);function m(){M({uid:o.query.uid,limit:c.value,offset:r.value}).then(e=>{console.log("关注",e),s.value=[...s.value,...e.follow],u.value=e.more,i.value=!1})}function p(){j({uid:o.query.uid,limit:c.value,offset:r.value}).then(e=>{console.log("粉丝",e),s.value=[...s.value,...e.followeds],u.value=e.more,i.value=!1})}function k(e){x.push({path:"/userDetail",query:{id:e.userId}})}function q(){i.value=!0,r.value+=c.value,o.query.num==="1"?m():p()}return V(()=>{console.log(o.query.num),o.query.num==="1"?m():p()}),(e,P)=>{const U=d("a-spin"),B=d("a-button"),C=d("a-empty"),F=z("lazyImg");return a(),f("div",T,[l("h2",null,g(t(o).query.num==="1"?"关注":"粉丝")+"列表",1),L(U,{class:"spin",spinning:t(v)},{default:y(()=>[l("div",$,[(a(!0),f(A,null,R(t(s),(_,b)=>(a(),f("div",{key:b,class:"follow_list flex align-center",onClick:Q=>k(_)},[S(l("img",H,null,512),[[F,_.avatarUrl]]),l("p",null,g(_.nickname),1)],8,G))),128))])]),_:1},8,["spinning"]),l("div",J,[t(u)?(a(),h(B,{key:0,loading:t(i),onClick:q},{default:y(()=>[E("加载更多")]),_:1},8,["loading"])):w("",!0)]),t(v)===!1&&t(s).length===0?(a(),h(C,{key:0})):w("",!0)])}}},X=D(K,[["__scopeId","data-v-d9edd56b"]]);export{X as default};
