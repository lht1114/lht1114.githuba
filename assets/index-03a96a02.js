import{r as P,_ as w,u as $,a as h,b as L,z as B,c as a,d as i,e,g as r,B as S,F as v,h as f,t as x,w as I,f as m,p as z,k as C}from"./index-bfcb45f6.js";import{P as T}from"./PlayListItem-927a1add.js";import{c as R}from"./playlist-f6556256.js";function j(l){return P("/toplist",{params:l})}const q={key:0,class:"flex"},A={class:"cover"},F={class:"cover"},N={alt:""},V={class:"top_content flex flex-column justify-between"},E={__name:"PlayListTopItem",props:["itemData","loading"],setup(l){const _=l,d=$();h(2),console.log(_.loading);function g(){d.push({path:"/playDetail",query:{id:_.itemData.id}})}return(k,p)=>{const b=L("a-skeleton-image"),u=L("a-skeleton"),n=B("lazyImg");return _.loading?(a(),i("div",q,[e("section",A,[r(b)]),r(u,{class:"playListTopItem-container flex",paragraph:{rows:2},active:""})])):(a(),i("div",{key:1,class:"playListTopItem-container flex",onClick:g},[e("section",F,[S(e("img",N,null,512),[[n,_.itemData.coverImgUrl]])]),e("ul",V,[(a(!0),i(v,null,f(_.itemData.tracks,(o,s)=>(a(),i("li",{key:s,class:"list flex align-center"},[e("p",null,x(s+1)+"."+x(o.name)+"-"+x(o.ar[0].name),1)]))),128))])]))}}},U=w(E,[["__scopeId","data-v-fb3bc5ba"]]);const y=l=>(z("data-v-83d0964b"),l=l(),C(),l),G={class:"rank_container"},H=y(()=>e("h2",{class:"mb20"},"排行榜",-1)),J=y(()=>e("div",{class:"title"}," 热榜 ",-1)),K={class:"base_list grid grid-column-2"},M=y(()=>e("h4",{class:"title"},"官方榜",-1)),O={class:"base_list grid grid-column-10"},Q=y(()=>e("h4",{class:"title"},"其他榜单",-1)),W={class:"base_list grid grid-column-10"},X={__name:"index",setup(l){const _=h([]),d=h([]),g=h([]),k=h([]),p=h(!1);async function b(){p.value=!0,j().then(async u=>{console.log("排行榜",u),_.value=u.list;let n=u.list,o=[],s=[],c=[];for(let t=0;t<n.length;t++)n[t].ToplistType?o.push(n[t]):n[t].userId===1?s.push(n[t]):c.push(n[t]);d.value=o,g.value=s,k.value=c;for(let t=0;t<4;t++)R({id:d.value[t].id}).then(D=>{console.log(D),d.value[t].tracks=D.playlist.tracks.slice(0,3)});p.value=!1})}return b(),(u,n)=>{const o=L("a-spin");return a(),i("div",G,[H,J,r(o,{spinning:m(p),tip:"正在获取",class:"spin"},{default:I(()=>[e("div",K,[(a(!0),i(v,null,f(m(d),(s,c)=>(a(),i("div",{class:"rank_list",key:c},[r(U,{"item-data":s},null,8,["item-data"])]))),128))])]),_:1},8,["spinning"]),M,r(o,{spinning:m(p),tip:"正在获取",class:"spin"},{default:I(()=>[e("div",O,[(a(!0),i(v,null,f(m(g),(s,c)=>(a(),i("div",{class:"rank_list",key:c},[r(T,{"item-data":s,"hide-bottom":!0,"is-center":!0},null,8,["item-data"])]))),128))])]),_:1},8,["spinning"]),Q,r(o,{spinning:m(p),tip:"正在获取",class:"spin"},{default:I(()=>[e("div",W,[(a(!0),i(v,null,f(m(k),(s,c)=>(a(),i("div",{class:"rank_list",key:c},[r(T,{"item-data":s,"hide-bottom":!0,"is-center":!0},null,8,["item-data"])]))),128))])]),_:1},8,["spinning"])])}}},et=w(X,[["__scopeId","data-v-83d0964b"]]);export{et as default};
