import{a as B,b as M}from"./singer-296e322d.js";import{_ as N,m as V,u as z,a as i,v as j,J as F,o as J,b as P,c as o,d as u,e as a,f as t,U as d,t as _,j as h,w as D,F as R,h as U,i as I,p as E,k as O,X as T}from"./index-bfcb45f6.js";const X=r=>(E("data-v-31d8cca5"),r=r(),O(),r),G={class:"artistDetail_container"},H={class:"top flex"},K={class:"cover"},Q=["src"],W={key:0,class:"content ml20"},Y={class:"name"},Z={class:"flex align-center mt20 mb20"},$={class:"ml20 mr20"},tt=X(()=>a("p",{class:"com_title"},"热门单曲",-1)),et={class:"more_content flex align-center justify-center"},at={__name:"artistDetail",setup(r){const c=V(),g=z(),s=i({}),l=i({userId:""}),n=i([]),m=i(0),p=i(!1),f=i(!1),w=j();function y(){B({id:c.query.id}).then(e=>{console.log("歌手",e),s.value=e.data.artist,l.value=e.data.user})}function v(){M({id:c.query.id,order:"hot",limit:50,offset:m.value}).then(e=>{console.log("单曲",e),p.value=e.more,n.value=[...n.value,...e.songs],f.value=!1})}function x(){m.value+=50,f.value=!0,v()}function C(){window.localStorage.setItem("awaitList",JSON.stringify(n.value)),w.awaitPlayList=n.value}function A(){g.push({path:"/mv",query:{id:c.query.id}})}function b(){l.value.userId&&g.push({path:"/userDetail",query:{id:l.value.userId}})}function q(){m.value=0,s.value={},n.value=[],p.value=!1}return F(()=>c.query.id,e=>{e&&c.name==="artistDetail"&&(q(),y(),v())},{deep:!0}),J(()=>{y(),v()}),(e,st)=>{const S=P("a-button");return o(),u("div",G,[a("section",H,[a("section",K,[t(s).avatar?(o(),u("img",{key:0,src:t(s).avatar+"?params=200y200",alt:""},null,8,Q)):d("",!0)]),t(s).name?(o(),u("section",W,[a("p",Y,_(t(s).name),1),a("div",Z,[a("p",null,"单曲数量："+_(t(s).musicSize),1),a("p",$,"专辑数量："+_(t(s).albumSize),1),a("u",{class:"pointer",onClick:A},"MV数量："+_(t(s).mvSize),1)]),t(l)&&t(l).userId?(o(),h(S,{key:0,onClick:b},{default:D(()=>[I("个人中心")]),_:1})):d("",!0)])):d("",!0)]),a("div",null,[tt,(o(!0),u(R,null,U(t(n),(L,k)=>(o(),h(T,{"item-data":L,index:k,key:k,onChangeAwait:C},null,8,["item-data","index"]))),128)),a("div",et,[t(p)?(o(),h(S,{key:0,class:"",onClick:x,loading:t(f)},{default:D(()=>[I("获取更多")]),_:1},8,["loading"])):d("",!0)])])])}}},it=N(at,[["__scopeId","data-v-31d8cca5"]]);export{it as default};
