import{m as h,a as s,o as D,b as g,c as p,d,g as f,f as l,n as w,w as C,Y as R,F as b,h as y,j as x,X as B}from"./index-bfcb45f6.js";const F={__name:"songRank",setup(L){const m=h(),t=s([]),o=s(!1),k=s(["最近一周","全部"]),u=s("最近一周");function i(n){o.value=!0,R({uid:m.query.id,type:n}).then(e=>{if(n===1){for(let a=0;a<e.weekData.length;a++)e.weekData[a].song.playCount=e.weekData[a].playCount,t.value.push(e.weekData[a].song);o.value=!1}else if(n===0){for(let a=0;a<e.allData.length;a++)e.allData[a].song.playCount=e.allData[a].playCount,t.value.push(e.allData[a].song);o.value=!1}})}function _(n){switch(console.log(n),t.value=[],n){case"最近一周":i(1);break;case"全部":i(0);break}}return D(()=>{i(1)}),(n,e)=>{const a=g("a-segmented"),v=g("a-spin");return p(),d("div",null,[f(a,{value:l(u),"onUpdate:value":e[0]||(e[0]=c=>w(u)?u.value=c:null),options:l(k),onChange:_},null,8,["value","options"]),f(v,{spinning:l(o),class:"spin",tip:"正在获取"},{default:C(()=>[(p(!0),d(b,null,y(l(t),(c,r)=>(p(),x(B,{"item-data":c,index:r,key:r},null,8,["item-data","index"]))),128))]),_:1},8,["spinning"])])}}};export{F as default};
